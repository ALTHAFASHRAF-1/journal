<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Academic Publication Submission Form - Islamic Insight Journal">
    <meta name="keywords" content="academic journal, research papers, submission form, Islamic studies">
    <meta name="author" content="Islamic Insight Journal">
    <title>Academic Publication Admin Panel - Islamic Insight</title>
    <link rel="icon" type="image/png" href="https://dqdhiu.netlify.app/logo.png">

    <!-- CSS Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
      :root {
        --primary-color: #1e3a8a;
        --secondary-color: #3b82f6;
        --accent-color: #60a5fa;
        --text-color: #1f2937;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
        --success-color: #10b981;
        --error-color: #ef4444;
        --warning-color: #f59e0b;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Inter', sans-serif;
        line-height: 1.6;
        color: var(--text-color);
        background-color: var(--gray-50);
        margin: 0;
        padding: 0;
        max-width: none;
      }

      .academic-title {
        font-family: 'Crimson Text', serif;
      }

      /* Navigation Styles */
      .navbar {
        background: white;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
        padding: 0;
      }

      .navbar-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 4rem;
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .logo-image {
        height: 40px;
        width: auto;
      }

      .logo-text-container {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
      }

      .logo-text {
        line-height: 1;
        margin: 0;
        font-size: 1.25rem;
        font-weight: bold;
        color: var(--gray-900);
      }

      .logo-subtitle {
        font-size: 0.75rem;
        color: var(--gray-600);
        margin: 0;
        line-height: 1;
        font-weight: 400;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 2rem;
      }

      .nav-links a {
        color: var(--gray-700);
        text-decoration: none;
        font-weight: 500;
        font-size: 0.875rem;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        transition: all 0.2s;
        cursor: pointer;
      }

      .nav-links a:hover,
      .nav-links a.active {
        color: var(--primary-color);
        background-color: var(--gray-100);
      }

      .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: var(--gray-700);
        cursor: pointer;
      }

      .mobile-nav {
        display: none;
        background: white;
        border-top: 1px solid var(--gray-200);
        padding: 1rem;
      }

      .mobile-nav.active {
        display: block;
      }

      .mobile-nav a {
        display: block;
        color: var(--gray-700);
        text-decoration: none;
        padding: 0.75rem 0;
        border-bottom: 1px solid var(--gray-100);
        font-weight: 500;
        cursor: pointer;
      }

      /* Tab Content */
      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      /* Form Container */
      .form-wrapper {
        max-width: 1000px;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .form-header {
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        color: white;
        padding: 2rem;
        border-radius: 12px 12px 0 0;
        text-align: center;
      }

      .form-header h1 {
        font-size: 2rem;
        margin-bottom: 0.5rem;
        font-family: 'Crimson Text', serif;
      }

      .form-header p {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .form-container {
        background: white;
        border-radius: 0 0 12px 12px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        padding: 2rem;
      }

      .sample-note {
        background: #eff6ff;
        border: 1px solid #bfdbfe;
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 2rem;
        color: var(--primary-color);
      }

      .form-section {
        margin-bottom: 2rem;
        padding: 1.5rem;
        background: var(--gray-50);
        border-radius: 8px;
        border-left: 4px solid var(--secondary-color);
      }

      .section-title {
        font-size: 1.25rem;
        color: var(--gray-800);
        margin-bottom: 1.5rem;
        font-weight: 600;
        font-family: 'Crimson Text', serif;
      }

      .form-row {
        display: grid;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .form-row.two-cols {
        grid-template-columns: 1fr 1fr;
      }

      .form-row.three-cols {
        grid-template-columns: 1fr 1fr 1fr;
      }

      .form-group {
        display: flex;
        flex-direction: column;
      }

      .form-group label {
        font-weight: 600;
        color: var(--gray-700);
        margin-bottom: 0.5rem;
        font-size: 0.875rem;
      }

      .required {
        color: var(--error-color);
      }

      .optional {
        color: var(--gray-500);
        font-weight: 400;
      }

      .form-group input,
      .form-group textarea,
      .form-group select {
        padding: 0.75rem;
        border: 2px solid var(--gray-300);
        border-radius: 6px;
        font-size: 0.9rem;
        transition: border-color 0.2s, box-shadow 0.2s;
        background: white;
      }

      .form-group input:focus,
      .form-group textarea:focus,
      .form-group select:focus {
        outline: none;
        border-color: var(--secondary-color);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .form-group input.error,
      .form-group textarea.error,
      .form-group select.error {
        border-color: var(--error-color);
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
      }

      .form-group textarea {
        resize: vertical;
        min-height: 120px;
      }

      .submit-section {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 2px solid var(--gray-200);
        text-align: center;
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
      }

      .submit-btn, .action-btn {
        background: linear-gradient(135deg, var(--secondary-color) 0%, var(--accent-color) 100%);
        color: white;
        padding: 1rem 2rem;
        border: none;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .submit-btn:hover:not(:disabled),
      .action-btn:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
      }

      .submit-btn:disabled,
      .action-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .action-btn.danger {
        background: linear-gradient(135deg, var(--error-color) 0%, #dc2626 100%);
      }

      .action-btn.warning {
        background: linear-gradient(135deg, var(--warning-color) 0%, #d97706 100%);
      }

      .loading-state {
        display: none;
        margin-top: 1rem;
        color: var(--gray-600);
      }

      .message {
        display: none;
        padding: 1rem;
        border-radius: 6px;
        margin-top: 1rem;
      }

      .success-message {
        background: #d1fae5;
        color: #065f46;
        border: 1px solid #a7f3d0;
      }

      .error-message {
        background: #fee2e2;
        color: #991b1b;
        border: 1px solid #fca5a5;
      }

      .validation-error {
        background: #fef3c7;
        color: #92400e;
        border: 1px solid #fbbf24;
      }

      /* Data Management Styles */
      .data-wrapper {
        max-width: 1400px;
        margin: 2rem auto;
        padding: 0 1rem;
      }

      .data-header {
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        color: white;
        padding: 2rem;
        border-radius: 12px 12px 0 0;
        text-align: center;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 1rem;
      }

      .data-header h1 {
        font-size: 2rem;
        margin: 0;
        font-family: 'Crimson Text', serif;
      }

      .data-controls {
        display: flex;
        gap: 1rem;
        align-items: center;
        flex-wrap: wrap;
      }

      .search-box {
        padding: 0.5rem 1rem;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 25px;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        font-size: 0.9rem;
        min-width: 200px;
      }

      .search-box::placeholder {
        color: rgba(255, 255, 255, 0.7);
      }

      .data-container {
        background: white;
        border-radius: 0 0 12px 12px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        padding: 2rem;
      }

      .data-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .stat-card {
        background: var(--gray-50);
        padding: 1.5rem;
        border-radius: 8px;
        border-left: 4px solid var(--secondary-color);
        text-align: center;
      }

      .stat-number {
        font-size: 2rem;
        font-weight: bold;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
      }

      .stat-label {
        color: var(--gray-600);
        font-size: 0.875rem;
      }

      .data-table-container {
        overflow-x: auto;
        border-radius: 8px;
        border: 1px solid var(--gray-200);
      }

      .data-table {
        width: 100%;
        border-collapse: collapse;
        min-width: 1200px;
      }

      .data-table th,
      .data-table td {
        padding: 0.75rem;
        text-align: left;
        border-bottom: 1px solid var(--gray-200);
        font-size: 0.8rem;
        vertical-align: top;
      }

      .data-table th {
        background: var(--gray-50);
        font-weight: 600;
        color: var(--gray-800);
        position: sticky;
        top: 0;
        z-index: 10;
        white-space: nowrap;
      }

      .data-table tbody tr:hover {
        background-color: var(--gray-50);
      }

      .data-table .actions {
        display: flex;
        gap: 0.3rem;
        justify-content: center;
        min-width: 120px;
      }

      .action-icon {
        padding: 0.4rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.75rem;
        transition: all 0.2s;
        min-width: 28px;
      }

      .action-icon.edit {
        background: var(--warning-color);
        color: white;
      }

      .action-icon.delete {
        background: var(--error-color);
        color: white;
      }

      .action-icon.view {
        background: var(--secondary-color);
        color: white;
      }

      .action-icon:hover {
        transform: scale(1.1);
      }

      .truncate-text {
        max-width: 200px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .truncate-short {
        max-width: 100px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .loading-spinner {
        display: none;
        text-align: center;
        padding: 3rem;
        color: var(--gray-600);
      }

      .loading-spinner.active {
        display: block;
      }

      .no-data {
        text-align: center;
        padding: 3rem;
        color: var(--gray-600);
      }

      .pagination {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
        margin-top: 2rem;
        flex-wrap: wrap;
      }

      .pagination button {
        padding: 0.5rem 1rem;
        border: 1px solid var(--gray-300);
        background: white;
        color: var(--gray-700);
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .pagination button:hover:not(:disabled) {
        background: var(--gray-100);
      }

      .pagination button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .pagination button.active {
        background: var(--secondary-color);
        color: white;
        border-color: var(--secondary-color);
      }

      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        animation: fadeIn 0.3s;
      }

      .modal.active {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .modal-content {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        max-width: 90vw;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        animation: slideIn 0.3s;
        width: 800px;
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid var(--gray-200);
      }

      .modal-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--gray-800);
      }

      .close-modal {
        background: none;
        border: none;
        font-size: 1.5rem;
        color: var(--gray-600);
        cursor: pointer;
        padding: 0.25rem;
        border-radius: 4px;
        transition: background-color 0.2s;
      }

      .close-modal:hover {
        background: var(--gray-100);
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes slideIn {
        from { transform: translateY(-50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      /* Footer Styles */
      .footer {
        background: var(--gray-900);
        color: white;
        padding: 3rem 0;
        margin-top: 4rem;
      }

      .footer-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      .footer-grid {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr;
        gap: 2rem;
        margin-bottom: 2rem;
      }

      .footer-section h3 {
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: white;
      }

      .footer-section p,
      .footer-section a {
        color: #d1d5db;
        text-decoration: none;
        line-height: 1.6;
      }

      .footer-section a:hover {
        color: white;
      }

      .footer-links {
        list-style: none;
      }

      .footer-links li {
        margin-bottom: 0.5rem;
      }

      .social-links {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
      }

      .social-links a {
        display: inline-block;
        width: 40px;
        height: 40px;
        background: var(--gray-800);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.2s;
      }

      .social-links a:hover {
        background: var(--secondary-color);
      }

      .footer-bottom {
        border-top: 1px solid var(--gray-700);
        padding-top: 2rem;
        text-align: center;
        color: #d1d5db;
      }

      /* Responsive Design */
      @media (min-width: 768px) {
        .mobile-menu-btn {
          display: none;
        }
      }

      @media (max-width: 767px) {
        .nav-links {
          display: none;
        }

        .mobile-menu-btn {
          display: block;
        }

        .form-header h1 {
          font-size: 1.5rem;
        }

        .form-row.two-cols,
        .form-row.three-cols {
          grid-template-columns: 1fr;
        }

        .footer-grid {
          grid-template-columns: 1fr;
        }

        .logo-image {
          height: 32px;
        }

        .logo-text {
          font-size: 1rem;
        }

        .logo-subtitle {
          font-size: 0.65rem;
        }

        .data-header {
          flex-direction: column;
          text-align: center;
        }

        .data-controls {
          justify-content: center;
        }

        .search-box {
          min-width: 250px;
        }

        .submit-section {
          flex-direction: column;
          align-items: center;
        }

        .data-table {
          min-width: 800px;
        }

        .truncate-text {
          max-width: 120px;
        }

        .truncate-short {
          max-width: 80px;
        }
      }

      @media (max-width: 480px) {
        .form-wrapper,
        .data-wrapper {
          margin: 1rem auto;
          padding: 0 0.5rem;
        }

        .form-container,
        .data-container {
          padding: 1rem;
        }

        .form-section {
          padding: 1rem;
        }

        .modal-content {
          padding: 1rem;
          max-width: 95%;
          width: 95%;
        }
      }
    </style>
  </head>

  <body>
    <!-- Navigation -->
    <nav class="navbar">
      <div class="navbar-container">
        <div class="logo-container">
          <img src="https://dqdhiu.netlify.app/logo.png" alt="Islamic Insight Logo" class="logo-image">
          <div class="logo-text-container">
            <h1 class="logo-text academic-title">ISLAMIC INSIGHT</h1>
            <p class="logo-subtitle">Journal Admin Panel</p>
          </div>
        </div>
        
        <div class="nav-links">
          <a href="#" data-tab="form" class="nav-link active">
            <i class="fas fa-plus-circle"></i> Add Publication
          </a>
          <a href="#" data-tab="data" class="nav-link">
            <i class="fas fa-database"></i> Manage Data
          </a>
        </div>

        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
          <i class="fas fa-bars"></i>
        </button>
      </div>

      <div class="mobile-nav" id="mobile-nav">
        <a href="#" data-tab="form" class="nav-link">
          <i class="fas fa-plus-circle"></i> Add Publication
        </a>
        <a href="#" data-tab="data" class="nav-link">
          <i class="fas fa-database"></i> Manage Data
        </a>
      </div>
    </nav>

    <!-- Form Tab Content -->
    <div id="form-tab" class="tab-content active">
      <div class="form-wrapper">
        <div class="form-header">
          <h1 class="academic-title">Academic Publication Submission</h1>
          <p>Submit your research for publication in Islamic Insight Journal</p>
        </div>

        <div class="form-container">
          <div class="sample-note">
            <i class="fas fa-info-circle"></i> <strong>Note:</strong> Please fill out all required fields marked with <span class="required">*</span>. Your submission will be reviewed by our editorial team.
          </div>
         
          <form id="publication-form">
            <!-- Issue Information Section -->
            <div class="form-section">
              <h2 class="section-title"><i class="fas fa-book"></i> Issue Information</h2>

              <div class="form-row two-cols">
                <div class="form-group">
                  <label for="issue_id">Issue ID <span class="required">*</span></label>
                  <input type="text" id="issue_id" name="issue_id" value="issue8" required>
                </div>
                <div class="form-group">
                  <label for="volume">Volume <span class="required">*</span></label>
                  <input type="number" id="volume" name="volume" value="8" required>
                </div>
              </div>

              <div class="form-row two-cols">
                <div class="form-group">
                  <label for="number">Number <span class="required">*</span></label>
                  <input type="number" id="number" name="number" value="2" required>
                </div>
                <div class="form-group">
                  <label for="year">Year <span class="required">*</span></label>
                  <input type="number" id="year" name="year" min="1900" max="2100" value="2025" required>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="issue_title">Issue Title <span class="required">*</span></label>
                  <input type="text" id="issue_title" name="issue_title" value="Vol. 8 No. 2 (2025)" required>
                </div>
              </div>

              <div class="form-row two-cols">
                <div class="form-group">
                  <label for="issue_published_date">Issue Published Date <span class="required">*</span></label>
                  <input type="date" id="issue_published_date" name="issue_published_date" value="2025-06-15" required>
                </div>
                <div class="form-group">
                  <label for="issue_cover_image">Issue Cover Image URL <span class="required">*</span></label>
                  <input type="url" id="issue_cover_image" name="issue_cover_image" value="https://dqdhiu.netlify.app/vol8no2.jpg" required>
                </div>
              </div>
            </div>

            <!-- Article Information Section -->
            <div class="form-section">
              <h2 class="section-title"><i class="fas fa-document"></i> Article Information</h2>

              <div class="form-row two-cols">
                <div class="form-group">
                  <label for="article_id">Article ID <span class="required">*</span></label>
                  <input type="text" id="article_id" name="article_id" value="" required>
                </div>
                <div class="form-group">
                  <label for="doi">DOI <span class="optional">(Optional)</span></label>
                  <input type="text" id="doi" name="doi" value="" placeholder="e.g., 10.1000/183">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="article_title">Article Title <span class="required">*</span></label>
                  <input type="text" id="article_title" name="article_title" value="" required>
                </div>
              </div>

              <div class="form-row two-cols">
                <div class="form-group">
                  <label for="author">Main Author <span class="required">*</span></label>
                  <input type="text" id="author" name="author" value="" required>
                </div>
                <div class="form-group">
                  <label for="authors">All Authors <span class="optional">(Optional)</span></label>
                  <input type="text" id="authors" name="authors" value="" placeholder="Separate multiple authors with commas">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="abstract">Abstract <span class="required">*</span></label>
                  <textarea id="abstract" name="abstract" required placeholder="Enter the article abstract here..."></textarea>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="keywords">Keywords <span class="required">*</span></label>
                  <input type="text" id="keywords" name="keywords" value="" required placeholder="Separate keywords with commas">
                </div>
              </div>
            </div>

            <!-- Publication Details Section -->
            <div class="form-section">
              <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Publication Details</h2>

              <div class="form-row three-cols">
                <div class="form-group">
                  <label for="date">Submission Date <span class="required">*</span></label>
                  <input type="date" id="date" name="date" required>
                </div>
                <div class="form-group">
                  <label for="published_date">Published Date <span class="required">*</span></label>
                  <input type="text" id="published_date" name="published_date" value="" required placeholder="e.g., June 15, 2025">
                </div>
                <div class="form-group">
                  <label for="pages">Pages <span class="required">*</span></label>
                  <input type="text" id="pages" name="pages" value="" required placeholder="e.g., 25-48">
                </div>
              </div>
            </div>

            <!-- File Links Section -->
            <div class="form-section">
              <h2 class="section-title"><i class="fas fa-link"></i> File Links</h2>

              <div class="form-row two-cols">
                <div class="form-group">
                  <label for="html_file">HTML File URL <span class="required">*</span></label>
                  <input type="url" id="html_file" name="html_file" value="" required placeholder="https://...">
                </div>
                <div class="form-group">
                  <label for="pdf_url">PDF URL <span class="optional">(Optional)</span></label>
                  <input type="url" id="pdf_url" name="pdf_url" value="" placeholder="https://...">
                </div>
              </div>
            </div>

            <div class="submit-section">
              <button type="submit" class="submit-btn" id="submit-btn">
                <i class="fas fa-paper-plane"></i> Submit Publication
              </button>

              <button type="button" class="action-btn warning" id="clear-btn">
                <i class="fas fa-eraser"></i> Clear Form
              </button>

              <div class="loading-state" id="loading-state">
                <i class="fas fa-spinner fa-spin"></i> Submitting your publication...
              </div>

              <div class="message success-message" id="success-message">
                <strong><i class="fas fa-check-circle"></i> Success!</strong> Your publication has been submitted successfully and saved to the database.
              </div>

              <div class="message error-message" id="error-message">
                <strong><i class="fas fa-exclamation-triangle"></i> Submission Error!</strong>
                <span id="error-text">There was an error submitting your form. Please try again.</span>
              </div>

              <div class="message validation-error" id="validation-error">
                <strong><i class="fas fa-exclamation-triangle"></i> Validation Error!</strong>
                Please fill in all required fields before submitting.
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Data Management Tab Content -->
    <div id="data-tab" class="tab-content">
      <div class="data-wrapper">
        <div class="data-header">
          <div>
            <h1 class="academic-title">Publication Data Management</h1>
            <p>View and manage all submitted publications</p>
          </div>
          <div class="data-controls">
            <input type="text" class="search-box" id="search-input" placeholder="Search publications...">
            <button class="action-btn" onclick="refreshData()">
              <i class="fas fa-sync-alt"></i> Refresh
            </button>
            <button class="action-btn" onclick="exportData()">
              <i class="fas fa-download"></i> Export CSV
            </button>
          </div>
        </div>

        <div class="data-container">
          <div class="data-stats" id="data-stats">
            <div class="stat-card">
              <div class="stat-number" id="total-publications">0</div>
              <div class="stat-label">Total Publications</div>
            </div>
            <div class="stat-card">
              <div class="stat-number" id="current-year-publications">0</div>
              <div class="stat-label">Current Year</div>
            </div>
            <div class="stat-card">
              <div class="stat-number" id="total-authors">0</div>
              <div class="stat-label">Unique Authors</div>
            </div>
            <div class="stat-card">
              <div class="stat-number" id="total-volumes">0</div>
              <div class="stat-label">Volumes</div>
            </div>
          </div>

          <div class="loading-spinner" id="data-loading">
            <i class="fas fa-spinner fa-spin fa-3x"></i>
            <p>Loading publication data...</p>
          </div>

          <div class="data-table-container" id="data-table-container" style="display: none;">
            <table class="data-table" id="data-table">
              <thead>
                <tr>
                  <th>Issue ID</th>
                  <th>Volume</th>
                  <th>Number</th>
                  <th>Year</th>
                  <th>Issue Title</th>
                  <th>Issue Date</th>
                  <th>Cover Image</th>
                  <th>Article ID</th>
                  <th>Article Title</th>
                  <th>Author</th>
                  <th>Abstract</th>
                  <th>Submission Date</th>
                  <th>Published Date</th>
                  <th>Keywords</th>
                  <th>Pages</th>
                  <th>HTML File</th>
                  <th>PDF URL</th>
                  <th>DOI</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="data-table-body">
              </tbody>
            </table>
          </div>

          <div class="no-data" id="no-data" style="display: none;">
            <i class="fas fa-inbox fa-3x" style="color: var(--gray-400); margin-bottom: 1rem;"></i>
            <p>No publications found. Add your first publication using the form.</p>
          </div>

          <div class="pagination" id="pagination" style="display: none;">
            <button id="prev-btn" onclick="changePage(-1)">
              <i class="fas fa-chevron-left"></i> Previous
            </button>
            <span id="page-info">Page 1 of 1</span>
            <button id="next-btn" onclick="changePage(1)">
              Next <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for viewing/editing publication details -->
    <div class="modal" id="publication-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title" id="modal-title">Publication Details</h2>
          <button class="close-modal" onclick="closeModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div id="modal-body">
          <!-- Content will be dynamically loaded here -->
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-grid">
          <div class="footer-section">
            <div class="logo-container" style="margin-bottom: 1rem">
              <img src="https://dqdhiu.netlify.app/logo.png" alt="Islamic Insight Logo" class="logo-image">
              <div class="logo-text-container">
                <h1 class="logo-text" style="color: white">ISLAMIC INSIGHT</h1>
                <p class="logo-subtitle" style="color: #d1d5db">Journal of Islamic Studies</p>
              </div>
            </div>
            <p>
              <strong>MAILING ADDRESS:</strong><br>
              Editor, Islamic Insight Journal of Islamic Studies, Darul Huda Islamic University, Chemmad, P.B.NO. 3,
              Tirurangadi (PO), Malappuram (Dt.), 676306 (PIN), Kerala, India.
              <br><br>
              Email: editor@islamicinsight.in<br>
              Website: www.islamicinsight.in
            </p>
          </div>

          <div class="footer-section">
            <h3>Admin Functions</h3>
            <ul class="footer-links">
              <li><a href="#" data-tab="form">Add Publication</a></li>
              <li><a href="#" data-tab="data">Manage Data</a></li>
              <li><a href="#" onclick="exportData()">Export Data</a></li>
              <li><a href="#" onclick="refreshData()">Refresh Database</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Connect</h3>
            <div class="social-links">
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-facebook"></i></a>
              <a href="#"><i class="fab fa-linkedin"></i></a>
              <a href="#"><i class="fas fa-envelope"></i></a>
            </div>
          </div>
        </div>

        <div class="footer-bottom">
          <p>Â© 2025 Islamic Insight Journal. All rights reserved. | Admin Panel v2.0</p>
        </div>
      </div>
    </footer>

    <script>
      // Configuration - UPDATE THESE WITH YOUR ACTUAL URLS
      const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzrTbBUlx41l-zEbOXz1-KSBAGNjFRDvFNIvIgp-H_HiwklyPg6faRXg-MpO2kdDdw1/exec';
      const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSkzubKLpyPWDjAWl5XS83-4huOcBJDZeeLRKVbntV2sDo-uG5Tzw5aFA6PQw3rNNv4-L-_44asHfTr/pub?gid=0&single=true&output=csv';
      
      // Global variables
      let publicationsData = [];
      let filteredData = [];
      let currentPage = 1;
      const itemsPerPage = 10;

      // Tab switching functionality
      function switchTab(tabName) {
        document.querySelectorAll('.tab-content').forEach(tab => {
          tab.classList.remove('active');
        });

        document.querySelectorAll('.nav-link').forEach(link => {
          link.classList.remove('active');
        });

        const targetTab = document.getElementById(tabName + '-tab');
        if (targetTab) {
          targetTab.classList.add('active');
        }

        document.querySelectorAll(`[data-tab="${tabName}"]`).forEach(link => {
          link.classList.add('active');
        });

        if (tabName === 'data') {
          loadPublicationsData();
        }

        document.getElementById('mobile-nav').classList.remove('active');
      }

      // Mobile menu toggle
      function toggleMobileMenu() {
        const mobileNav = document.getElementById('mobile-nav');
        mobileNav.classList.toggle('active');
      }

      // Event listeners for navigation
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('[data-tab]').forEach(link => {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            const tabName = this.getAttribute('data-tab');
            switchTab(tabName);
          });
        });

        initializeForm();
        loadPublicationsData();
      });

      // Form initialization
      function initializeForm() {
        const form = document.getElementById('publication-form');
        const dateField = document.getElementById('date');
        
        if (!dateField.value) {
          const today = new Date().toISOString().split('T')[0];
          dateField.value = today;
        }

        document.querySelectorAll('textarea').forEach((textarea) => {
          textarea.style.height = 'auto';
          textarea.style.height = textarea.scrollHeight + 'px';
        });

        form.addEventListener('submit', handleFormSubmission);
        document.getElementById('clear-btn').addEventListener('click', clearForm);

        document.querySelectorAll('input, textarea, select').forEach((field) => {
          field.addEventListener('blur', function () {
            if (this.hasAttribute('required') && !this.value.trim()) {
              this.classList.add('error');
            } else {
              this.classList.remove('error');
            }
          });

          field.addEventListener('input', function () {
            if (this.classList.contains('error') && this.value.trim()) {
              this.classList.remove('error');
            }
          });
        });

        document.querySelectorAll('textarea').forEach((textarea) => {
          textarea.addEventListener('input', function () {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
          });
        });

        console.log('Form initialized and ready for submission');
      }

      // Form submission handler
      async function handleFormSubmission(e) {
        e.preventDefault();

        const submitBtn = document.getElementById('submit-btn');
        const loadingState = document.getElementById('loading-state');
        const successMessage = document.getElementById('success-message');
        const errorMessage = document.getElementById('error-message');
        const validationError = document.getElementById('validation-error');

        successMessage.style.display = 'none';
        errorMessage.style.display = 'none';
        validationError.style.display = 'none';

        if (!validateForm()) {
          validationError.style.display = 'block';
          validationError.scrollIntoView({ behavior: 'smooth' });
          return;
        }

        submitBtn.disabled = true;
        loadingState.style.display = 'block';

        try {
          const formData = new FormData(e.target);
          const data = {};

          for (let [key, value] of formData.entries()) {
            data[key] = value.trim();
          }

          console.log('Submitting data:', data);

          const response = await fetch(SCRIPT_URL, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: new URLSearchParams(data).toString()
          });

          console.log('Response status:', response.status);
          
          if (response.ok) {
            const result = await response.json();
            console.log('Response result:', result);
            
            if (result.status === 'success') {
              loadingState.style.display = 'none';
              successMessage.style.display = 'block';
              successMessage.scrollIntoView({ behavior: 'smooth' });
              
              setTimeout(() => {
                clearForm();
                if (document.getElementById('data-tab').classList.contains('active')) {
                  loadPublicationsData();
                }
              }, 2000);
            } else {
              throw new Error(result.message || 'Submission failed');
            }
          } else {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
          }

        } catch (error) {
          console.error('Submission error:', error);
          loadingState.style.display = 'none';
          
          document.getElementById('error-text').textContent = 
            `Submission failed: ${error.message}. Please check your internet connection and try again.`;
          errorMessage.style.display = 'block';
          errorMessage.scrollIntoView({ behavior: 'smooth' });
        } finally {
          submitBtn.disabled = false;
        }
      }

      // Form validation function
      function validateForm() {
        const requiredFields = document.querySelectorAll('input[required], textarea[required], select[required]');
        let isValid = true;

        document.querySelectorAll('.error').forEach(field => {
          field.classList.remove('error');
        });

        requiredFields.forEach((field) => {
          if (!field.value.trim()) {
            field.classList.add('error');
            isValid = false;
          }
        });

        const urlFields = document.querySelectorAll('input[type="url"]');
        urlFields.forEach((field) => {
          if (field.hasAttribute('required') && field.value.trim()) {
            try {
              new URL(field.value.trim());
            } catch {
              field.classList.add('error');
              isValid = false;
            }
          }
        });

        return isValid;
      }

      // Clear form function
      function clearForm() {
        const form = document.getElementById('publication-form');
        form.reset();
        
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('date').value = today;
        
        document.querySelectorAll('.error').forEach(field => {
          field.classList.remove('error');
        });

        document.querySelectorAll('.message').forEach(msg => {
          msg.style.display = 'none';
        });

        console.log('Form cleared');
      }

      // Data management functions
      async function loadPublicationsData() {
        const loading = document.getElementById('data-loading');
        const tableContainer = document.getElementById('data-table-container');
        const noData = document.getElementById('no-data');
        const pagination = document.getElementById('pagination');

        try {
          loading.classList.add('active');
          tableContainer.style.display = 'none';
          noData.style.display = 'none';
          pagination.style.display = 'none';

          console.log('Fetching data from:', CSV_URL);
          
          const response = await fetch(CSV_URL);
          if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
          }

          const csvText = await response.text();
          console.log('CSV data received, length:', csvText.length);
          
          publicationsData = parseCSV(csvText);
          filteredData = [...publicationsData];
          
          console.log('Parsed publications:', publicationsData.length);

          if (publicationsData.length === 0) {
            noData.style.display = 'block';
          } else {
            updateDataStats();
            renderDataTable();
            updatePagination();
            tableContainer.style.display = 'block';
            pagination.style.display = 'flex';
          }

        } catch (error) {
          console.error('Error loading data:', error);
          noData.style.display = 'block';
          document.querySelector('#no-data p').textContent = 
            `Error loading data: ${error.message}. Please check your connection and try again.`;
        } finally {
          loading.classList.remove('active');
        }
      }

      // CSV parsing function
      function parseCSV(csvText) {
        const lines = csvText.trim().split('\n');
        if (lines.length < 2) return [];

        const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
        const data = [];

        for (let i = 1; i < lines.length; i++) {
          const values = parseCSVLine(lines[i]);
          if (values.length === headers.length) {
            const row = {};
            headers.forEach((header, index) => {
              row[header] = values[index] || '';
            });
            data.push(row);
          }
        }

        return data;
      }

      // Helper function to parse CSV line with proper comma handling
      function parseCSVLine(line) {
        const result = [];
        let current = '';
        let inQuotes = false;
        
        for (let i = 0; i < line.length; i++) {
          const char = line[i];
          
          if (char === '"') {
            inQuotes = !inQuotes;
          } else if (char === ',' && !inQuotes) {
            result.push(current.trim());
            current = '';
          } else {
            current += char;
          }
        }
        
        result.push(current.trim());
        return result;
      }

      // Update data statistics
      function updateDataStats() {
        const currentYear = new Date().getFullYear();
        const currentYearPubs = publicationsData.filter(pub => pub.year == currentYear).length;
        const uniqueAuthors = [...new Set(publicationsData.map(pub => pub.author))].length;
        const uniqueVolumes = [...new Set(publicationsData.map(pub => pub.volume))].length;

        document.getElementById('total-publications').textContent = publicationsData.length;
        document.getElementById('current-year-publications').textContent = currentYearPubs;
        document.getElementById('total-authors').textContent = uniqueAuthors;
        document.getElementById('total-volumes').textContent = uniqueVolumes;
      }

      // Render data table
      function renderDataTable() {
        const tbody = document.getElementById('data-table-body');
        const startIndex = (currentPage - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;
        const pageData = filteredData.slice(startIndex, endIndex);

        tbody.innerHTML = '';

        pageData.forEach((pub, index) => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td class="truncate-short" title="${pub.issue_id || 'N/A'}">${pub.issue_id || 'N/A'}</td>
            <td>${pub.volume || 'N/A'}</td>
            <td>${pub.number || 'N/A'}</td>
            <td>${pub.year || 'N/A'}</td>
            <td class="truncate-text" title="${pub.issue_title || 'N/A'}">${pub.issue_title || 'N/A'}</td>
            <td class="truncate-short">${pub.issue_published_date || 'N/A'}</td>
            <td class="truncate-short">${pub.issue_cover_image ? `<a href="${pub.issue_cover_image}" target="_blank">View</a>` : 'N/A'}</td>
            <td class="truncate-short" title="${pub.article_id || 'N/A'}">${pub.article_id || 'N/A'}</td>
            <td class="truncate-text" title="${pub.article_title || 'N/A'}">${pub.article_title || 'N/A'}</td>
            <td class="truncate-text" title="${pub.author || 'N/A'}">${pub.author || 'N/A'}</td>
            <td class="truncate-text" title="${pub.abstract || 'N/A'}">${pub.abstract ? pub.abstract.substring(0, 50) + '...' : 'N/A'}</td>
            <td class="truncate-short">${pub.date || 'N/A'}</td>
            <td class="truncate-text">${pub.published_date || 'N/A'}</td>
            <td class="truncate-text" title="${pub.keywords || 'N/A'}">${pub.keywords || 'N/A'}</td>
            <td class="truncate-short">${pub.pages || 'N/A'}</td>
            <td class="truncate-short">${pub.html_file ? `<a href="${pub.html_file}" target="_blank">View</a>` : 'N/A'}</td>
            <td class="truncate-short">${pub.pdf_url ? `<a href="${pub.pdf_url}" target="_blank">View</a>` : 'N/A'}</td>
            <td class="truncate-short">${pub.doi || 'N/A'}</td>
            <td class="actions">
              <button class="action-icon view" onclick="viewPublication(${startIndex + index})" title="View Details">
                <i class="fas fa-eye"></i>
              </button>
              <button class="action-icon edit" onclick="editPublication(${startIndex + index})" title="Edit">
                <i class="fas fa-edit"></i>
              </button>
              ${pub.html_file ? `<button class="action-icon view" onclick="window.open('${pub.html_file}', '_blank')" title="View Article">
                <i class="fas fa-external-link-alt"></i>
              </button>` : ''}
            </td>
          `;
          tbody.appendChild(row);
        });
      }

      // Update pagination
      function updatePagination() {
        const totalPages = Math.ceil(filteredData.length / itemsPerPage);
        const pageInfo = document.getElementById('page-info');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');

        pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
        prevBtn.disabled = currentPage === 1;
        nextBtn.disabled = currentPage === totalPages || totalPages === 0;
      }

      // Change page
      function changePage(direction) {
        const totalPages = Math.ceil(filteredData.length / itemsPerPage);
        const newPage = currentPage + direction;

        if (newPage >= 1 && newPage <= totalPages) {
          currentPage = newPage;
          renderDataTable();
          updatePagination();
        }
      }

      // Search functionality
      document.getElementById('search-input').addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        
        if (searchTerm === '') {
          filteredData = [...publicationsData];
        } else {
          filteredData = publicationsData.filter(pub => {
            return Object.values(pub).some(value => 
              value.toString().toLowerCase().includes(searchTerm)
            );
          });
        }
        
        currentPage = 1;
        renderDataTable();
        updatePagination();
      });

      // View publication details
      function viewPublication(index) {
        const pub = filteredData[index];
        const modal = document.getElementById('publication-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');

        modalTitle.textContent = 'Publication Details';
        modalBody.innerHTML = `
          <div style="display: grid; gap: 1rem;">
            <div class="form-section">
              <h3 class="section-title">Issue Information</h3>
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                <div><strong>Issue ID:</strong> ${pub.issue_id || 'N/A'}</div>
                <div><strong>Volume:</strong> ${pub.volume || 'N/A'}</div>
                <div><strong>Number:</strong> ${pub.number || 'N/A'}</div>
                <div><strong>Year:</strong> ${pub.year || 'N/A'}</div>
                <div><strong>Issue Title:</strong> ${pub.issue_title || 'N/A'}</div>
                <div><strong>Published Date:</strong> ${pub.issue_published_date || 'N/A'}</div>
              </div>
            </div>
            
            <div class="form-section">
              <h3 class="section-title">Article Information</h3>
              <div style="display: grid; gap: 1rem;">
                <div><strong>Article ID:</strong> ${pub.article_id || 'N/A'}</div>
                <div><strong>Title:</strong> ${pub.article_title || 'N/A'}</div>
                <div><strong>Author:</strong> ${pub.author || 'N/A'}</div>
                <div><strong>DOI:</strong> ${pub.doi || 'N/A'}</div>
                <div><strong>Keywords:</strong> ${pub.keywords || 'N/A'}</div>
                <div><strong>Pages:</strong> ${pub.pages || 'N/A'}</div>
                <div><strong>Submission Date:</strong> ${pub.date || 'N/A'}</div>
                <div><strong>Published Date:</strong> ${pub.published_date || 'N/A'}</div>
              </div>
            </div>
            
            <div class="form-section">
              <h3 class="section-title">Abstract</h3>
              <p style="line-height: 1.6; text-align: justify;">${pub.abstract || 'N/A'}</p>
            </div>
            
            <div class="form-section">
              <h3 class="section-title">File Links</h3>
              <div style="display: grid; gap: 1rem;">
                ${pub.html_file ? `<div><strong>HTML:</strong> <a href="${pub.html_file}" target="_blank">${pub.html_file}</a></div>` : ''}
                ${pub.pdf_url ? `<div><strong>PDF:</strong> <a href="${pub.pdf_url}" target="_blank">${pub.pdf_url}</a></div>` : ''}
                ${pub.issue_cover_image ? `<div><strong>Cover Image:</strong> <a href="${pub.issue_cover_image}" target="_blank">${pub.issue_cover_image}</a></div>` : ''}
              </div>
            </div>
          </div>
        `;

        modal.classList.add('active');
      }

      // Edit publication (populate form)
      function editPublication(index) {
        const pub = filteredData[index];
        
        switchTab('form');
        
        Object.keys(pub).forEach(key => {
          const field = document.getElementById(key);
          if (field) {
            field.value = pub[key] || '';
          }
        });

        document.querySelector('.form-wrapper').scrollIntoView({ behavior: 'smooth' });
        
        const successMsg = document.getElementById('success-message');
        successMsg.innerHTML = '<strong><i class="fas fa-info-circle"></i> Info:</strong> Publication data loaded for editing. Make your changes and submit to update.';
        successMsg.style.display = 'block';
        setTimeout(() => {
          successMsg.style.display = 'none';
        }, 5000);
      }

      // Close modal
      function closeModal() {
        document.getElementById('publication-modal').classList.remove('active');
      }

      // Close modal when clicking outside
      document.getElementById('publication-modal').addEventListener('click', function(e) {
        if (e.target === this) {
          closeModal();
        }
      });

      // Refresh data
      function refreshData() {
        loadPublicationsData();
      }

      // Export data as CSV
      function exportData() {
        if (publicationsData.length === 0) {
          alert('No data to export. Please load data first.');
          return;
        }

        const headers = Object.keys(publicationsData[0]);
        const csvContent = [
          headers.join(','),
          ...publicationsData.map(row => 
            headers.map(header => {
              const value = row[header] || '';
              return value.includes(',') || value.includes('"') ? `"${value.replace(/"/g, '""')}"` : value;
            }).join(',')
          )
        ].join('\n');

        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
        const link = document.createElement('a');
        const url = URL.createObjectURL(blob);
        link.setAttribute('href', url);
        link.setAttribute('download', `publications_export_${new Date().toISOString().split('T')[0]}.csv`);
        link.style.visibility = 'hidden';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }

      // Auto-generate next article ID
      function generateNextArticleId() {
        if (publicationsData.length === 0) return '1';
        
        const maxId = Math.max(...publicationsData.map(pub => parseInt(pub.article_id) || 0));
        return (maxId + 1).toString();
      }

      console.log('Admin panel initialized successfully');
    </script>
  </body>
</html>
